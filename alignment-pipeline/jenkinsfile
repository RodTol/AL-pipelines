    /*This pipeline is mainly designed to execute from start to finish the
    alignment procedure.
    
    Almost all the commands are executed on ORFEO through SSH connection, using
    the 'orfeo_jenkins_onpexp' credetials
    */
    pipeline {
        agent { 
            node {
                label 'docker'
                }
        }
        parameters {
            /*The idea is to set as parameter the path to the JSON and not the actual JSON. 
            I assumed that the starting directory is the pipeline one*/
            string(name: 'configFilePath', defaultValue: '/u/area/jenkins_onpexp/AL-pipelines/configurations/config.json', description: 'Path to the config JSON file')
        }
        stages {
            stage('Test') {
                steps {
                    withCredentials([sshUserPrivateKey(credentialsId: 'orfeo_jenkins_onpexp', keyFileVariable: 'SSH_ONPEXP_KEY', passphraseVariable: '', usernameVariable: 'SSH_ONPEXP_USER')]) {
                        sh '''
                            ssh -i ${SSH_ONPEXP_KEY} ${SSH_ONPEXP_USER}@10.128.2.80 '
                                echo "NUOVA PIPELINE"
                                ls
                            '
                        '''                    
                    }
                }
                
            }
        }
    }
